(this.webpackJsonpagape=this.webpackJsonpagape||[]).push([[0],{143:function(e,t,c){},144:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(30),r=c.n(s),i=c(21),o=c(48),l=c(51),j=c(3),d=[{icon:Object(j.jsx)(o.a,{size:25,color:"ffac40"}),name:"Inicio",to:"/"},{icon:Object(j.jsx)(o.d,{size:25,color:"ffac40"}),name:"Todos los Productos",to:"/productos"},{icon:Object(j.jsx)(l.c,{size:25,color:"ffac40"}),name:"Ropa",to:"/productos/category/Ropa"},{icon:Object(j.jsx)(l.a,{size:25,color:"ffac40"}),name:"Accesorios",to:"/productos/category/Accesorios"},{icon:Object(j.jsx)(o.c,{size:25,color:"ffac40"}),name:"Carrito",to:"/carrito"}],b=c(18),m=c(13),u=c.n(m),O=c(24),h=c(33),x=c(14),p=c(93),f=c.n(p),g=c(55),v=(c(145),c(134),a.a.createContext()),N=g.a.initializeApp({apiKey:"AIzaSyCs57LkTJ17PhrkEo5XPVY4b71sKw2-0BU",authDomain:"agapeapp-7f28c.firebaseapp.com",projectId:"agapeapp-7f28c",storageBucket:"agapeapp-7f28c.appspot.com",messagingSenderId:"1007000022642",appId:"1:1007000022642:web:97d4831415780cd460dceb"}),y=g.a.auth(),w=new g.a.auth.GoogleAuthProvider;function C(e){var t=Object(n.useState)(!1),c=Object(x.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)({name:null,email:null,tokenId:null}),i=Object(x.a)(r,2),o=i[0],l=i[1];Object(n.useEffect)((function(){y.onAuthStateChanged((function(e){e?(s(!0),console.log("ENTRO"),e.getIdToken(!0).then((function(t){return l({name:e.displayName,email:e.email,tokenId:t})})).catch((function(e){return console.log(e)}))):(s(!1),l({name:null,email:null,tokenId:null}),console.log("SALIO"))}))}),[]);return Object(j.jsx)(v.Provider,Object(h.a)({value:{authGoogle:function(){console.log("no esta logead"),y.signInWithPopup(w).then((function(e){e.credential})).catch((function(e){console.log(e)}))},getFirestore:function(){return g.a.firestore(N)},isLogged:a,signOut:function(){y.signOut().then((function(){}))},user:o}},e))}function k(){var e=a.a.useContext(v);if(!e)throw new Error("useFirestore debe estar dentro del provider UserFirestore");return e}var P=a.a.createContext();function S(e){var t=Object(n.useState)([]),c=Object(x.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)({}),i=Object(x.a)(r,2),o=i[0],l=i[1],d=k().user,m=function(){var e=Object(O.a)(u.a.mark((function e(){var t,c,n,a,r,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://agapeapp-7f28c-default-rtdb.firebaseio.com/items.json");case 2:for(t=e.sent,c=t.data,n=[],a=Object.keys(c),r=0;r<a.length;r++)i=a[r],n.push(c[i]);for(o=[],l=0;l<n.length;l++)o.push({id:a[l],name:n[l].name,description:n[l].description,price:n[l].price,img:n[l].img,category:n[l].category});s(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);var p=Object(n.useState)([]),g=Object(x.a)(p,2),v=g[0],N=g[1],y=Object(n.useState)(0),w=Object(x.a)(y,2),C=w[0],S=w[1],E=Object(n.useState)(0),z=Object(x.a)(E,2),I=z[0],q=z[1];Object(n.useEffect)((function(){!function(){var e=0;v.forEach((function(t){e+=t.quantity})),q(e)}()}),[v,C]);var A=function(){var e=0;v.forEach((function(t){e+=t.item.price*t.quantity})),S(e)},B=function(e,t){N([].concat(Object(b.a)(v),[{item:e,quantity:t}])),A()};return Object(j.jsx)(P.Provider,Object(h.a)({value:{cartProducts:v,addProduct:B,modifyProduct:function(e,t){var c=v;c.forEach((function(c){c.item.id===e&&(c.quantity=t)})),A(),N(c),console.log(v)},removeProduct:function(e){var t=v.filter((function(t){return t.item.id!==e}));N(t),A()},verifyReply:function(e,t){var c=!1;for(var n in v)v[n].item.id===e.id&&(c=!0);c?function(e,t){var c=v;c.forEach((function(c){c.item.id===e.id&&(c.quantity=c.quantity+t)})),A(),N(c)}(e,t):B(e,t)},removeAll:function(){N([]),A()},total:C,totalItems:I,allProducts:a,newPedido:function(e){var t={cliente:{nombre:d.name,email:d.email,direccion:e.direccion,telefono:e.telefono},itemsPedido:Object(h.a)(Object(h.a)({},v),{},{totalPedido:5e3})};l(t),N([]),console.log(o)}}},e))}function E(){var e=a.a.useContext(P);if(!e)throw new Error("useCart debe estar dentro del provider CartContext");return e}var z=function(e){var t=E().totalItems;return Object(j.jsx)("div",{className:"cardWidget",children:Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[e.icon,Object(j.jsx)("span",{className:"ml-2 ",children:e.name}),t>0&&"Carrito"===e.name?Object(j.jsx)("div",{style:{color:"black",marginLeft:"5px",fontSize:"20px",background:"white",width:"20px",textAlign:"center",borderRadius:"5px"},className:"cantCart",children:t}):Object(j.jsx)(j.Fragment,{})]})})},I=c(192),q=c(172),A=c(189),B=c(193),F=c(96);c(57);var L=function(){var e=k(),t=e.isLogged,c=e.authGoogle,n=e.signOut;return Object(j.jsx)(I.a,{sticky:"top",collapseOnSelect:!0,expand:"lg",className:"navbar",children:Object(j.jsxs)(q.a,{fluid:!0,children:[Object(j.jsx)(A.a.Link,{as:i.b,to:"/",className:"mr-5",children:Object(j.jsx)(B.a.Image,{width:150,height:"auto",alt:"logo",src:"https://i.imgur.com/C3zXSSv.png"})}),Object(j.jsx)(I.a.Toggle,{className:"navbar-toggle","aria-controls":"responsive-navbar-nav "}),Object(j.jsx)(I.a.Collapse,{id:"responsive-navbar-nav ",children:Object(j.jsxs)(A.a,{className:"me-auto",children:[d.map((function(e,t){return Object(j.jsx)(A.a.Link,{className:"mr-2",as:i.b,to:e.to,children:Object(j.jsx)(z,{icon:e.icon,name:e.name})},t)})),t?Object(j.jsx)("button",{onClick:function(){n()},className:"btn btn-danger",children:"Salir"}):Object(j.jsxs)("button",{onClick:function(){c()},className:"btn btn-light d-flex align-items-center justify-content-center",children:[Object(j.jsx)(F.a,{size:25}),Object(j.jsx)("span",{className:"text-dark  ml-2 ",children:"Ingresa"})]})]})})]})})};c(57);var R=function(){return Object(j.jsx)("div",{className:"footer d-flex justify-content-center align-items-center",children:Object(j.jsx)("p",{children:" Agape 2021"})})},T=c(70),$=c(173),G=function(){return Object(j.jsx)("div",{className:"portada",children:Object(j.jsx)("div",{className:"portada-opacidad",children:Object(j.jsxs)("div",{className:"portada-titulo",children:[Object(j.jsx)("h1",{children:"A G \xc1 P E"}),Object(j.jsx)("h5",{children:"Tienda online"}),Object(j.jsx)($.a,{as:i.b,to:"/productos",className:"btn-ver",children:"Ver Productos"})]})})})};c(57);var W=function(){return Object(j.jsxs)("div",{className:"pages",children:[Object(j.jsx)(G,{}),Object(j.jsxs)("div",{className:"contacto mt-5 mb-5",children:[Object(j.jsx)("h2",{children:"Podes contactarte con nosotros en:"}),Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/agapetiendaonline/?hl=es",children:Object(j.jsx)(T.b,{className:"logo-social inst"})}),Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.facebook.com/pages/category/Clothing-Store/%C3%81gape-Tienda-Online-105297704567427/",children:Object(j.jsx)(T.a,{className:"logo-social face"})}),Object(j.jsxs)("a",{rel:"noreferrer",target:"_blank",href:"https://api.whatsapp.com/send?phone=549356465-6612",children:[" ",Object(j.jsx)(T.c,{className:"logo-social whats"})]})]})]})]})},D=c(97),H=c(174),J=c(98),M=c(101);Promise.resolve().then(c.t.bind(null,92,7));var U=Object(H.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"95%"}}}})),V=function(){var e=Object(M.a)(),t=e.register,c=e.handleSubmit,n=e.formState.errors,a=E();Object(D.a)(a);var s=E(),r=s.total,i=s.cartProducts,o=s.newPedido,l=U(),d=k(),b=d.isLogged,m=d.authGoogle,u=d.user;return Object(j.jsxs)("div",{className:0===i.length?"formNone":"container-form ",children:[Object(j.jsxs)("div",{className:"container-precio d-flex align-items-center justify-content-center",children:[Object(j.jsx)(J.a,{className:"mr-2",color:"ffa333",size:25}),Object(j.jsx)("span",{className:"form-precio m-0",children:"Total: $".concat(r)})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{className:"form-titulo",children:"Finalice su compra"}),!0===b&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h6",{className:"m-0 ",children:"Comprando como:"}),Object(j.jsx)("p",{children:u.name})]}),Object(j.jsxs)("form",{className:l.root,onSubmit:c((function(e){o(e)})),children:[Object(j.jsx)("input",Object(h.a)({className:"input mr-auto ml-auto mb-2 w-75",placeholder:"N\xfamero de tel\xe9fono",name:"telefono"},t("telefono",{required:{value:!0,message:"Este campo es obligatorio."},minLength:{value:6,message:"Minimo 6 car\xe1cteres"}}))),Object(j.jsx)("span",{className:" leyenda-incorrecto text-danger",children:n.telefono&&n.telefono.message}),Object(j.jsx)("input",Object(h.a)({className:"input mr-auto ml-auto mb-2 w-75",name:"direccion",placeholder:"Direcci\xf3n"},t("direccion",{required:{value:!0,message:"Este campo es obligatorio."},minLength:{value:6,message:"Minimo 6 car\xe1cteres"}}))),Object(j.jsx)("span",{className:"leyenda-incorrecto text-danger",children:n.direccion&&n.direccion.message}),!1===b?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"text-center",children:"Inicie sesi\xf3n con Google para enviar el pedido"}),Object(j.jsx)("button",{onClick:function(){m()},type:"button",className:"btn btn-primary",children:"Entrar con Google"})]}):Object(j.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Enviar"})]})]})},_=c(67),K=c(99),X=function(e){return Object(j.jsxs)("div",{className:"countdetail-container",children:[Object(j.jsx)("button",{className:"btn btn-danger  btn-sm",onClick:e.quit,children:"-"}),Object(j.jsxs)("p",{className:"display-4",children:[" ",e.quantity]}),Object(j.jsx)("button",{className:"btn btn-success  btn-sm",onClick:e.add,children:"+"})]})},Y=c(11),Q=c(191),Z=c(194),ee=c(176),te=c(178),ce=c(182),ne=c(181),ae=c(177),se=c(179),re=c(180),ie=c(146);c(92);var oe=Object(Y.a)({root:{background:"#ffa333",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(Q.a),le=Object(Y.a)({root:{borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"},display:"flex",justifyContent:"space-between"},expanded:{}})(Z.a),je=Object(Y.a)((function(e){return{root:{padding:e.spacing(2),background:"#383838"}}}))(ee.a),de=Object(H.a)({table:{Width:"70%"}}),be=function(e){var t=E(),c=t.modifyProduct,a=t.removeProduct,s=de(),r=Object(n.useState)(e.quantity),i=Object(x.a)(r,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){c(e.id,o)}),[o]),Object(j.jsx)("div",{className:"item  ",children:Object(j.jsxs)(oe,{square:!0,children:[Object(j.jsxs)(le,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[Object(j.jsx)("h6",{children:e.name}),Object(j.jsx)(K.a,{color:"#1f1d1d",size:30})]}),Object(j.jsx)(je,{className:"accordion-details",children:Object(j.jsx)(ae.a,{component:ie.a,children:Object(j.jsxs)(te.a,{className:s.table,size:"small","aria-label":"a dense table",children:[Object(j.jsx)(se.a,{children:Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ne.a,{children:e.description}),Object(j.jsx)(ne.a,{})]})}),Object(j.jsxs)(ce.a,{children:[Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ne.a,{children:"Precio/U"}),Object(j.jsxs)(ne.a,{children:["$",e.price]})]}),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ne.a,{children:"Cantidad"}),Object(j.jsx)(ne.a,{children:Object(j.jsx)(X,{quantity:o,quit:function(){o>1&&l(o-1)},add:function(){l(o+1)}})})]}),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ne.a,{children:"Total"}),Object(j.jsxs)(ne.a,{children:["$",e.price*o]})]}),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ne.a,{children:"Borrar"}),Object(j.jsxs)(ne.a,{children:[" ",Object(j.jsx)("button",{onClick:function(){a(e.id)},className:"btn btn-danger ",children:Object(j.jsx)(_.b,{color:"white",size:25})})]})]})]})]})})})]})})},me=function(){var e=E(),t=e.cartProducts,c=e.removeAll;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:0===t.length?Object(j.jsx)("h4",{className:"text-center mb-3 text-danger  ",children:"No hay productos"}):t.map((function(e){return Object(j.jsx)(be,{id:e.item.id,category:e.item.category,description:e.item.description,img:e.item.img,name:e.item.name,price:e.item.price,quantity:e.quantity},e.item.id)}))}),Object(j.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-center",children:0===t.length?Object(j.jsx)(i.b,{className:"btn btn-warning",to:"/productos/",children:"Comenz\xe1 a comprar"}):Object(j.jsx)("button",{className:"btn btn-danger  w-50",onClick:function(){c()},children:"Borrar todo"})})]})};c(92);var ue=function(){return Object(j.jsxs)("div",{className:"pages container pt-3",children:[Object(j.jsxs)("div",{className:" container-titulo d-flex align-items-center justify-content-center ",children:[Object(j.jsx)("span",{className:"titulo mb-0 ",children:"Carrito de compras"}),Object(j.jsx)(o.b,{color:"white",size:30})]}),Object(j.jsx)("div",{className:"container-items",children:Object(j.jsx)(me,{})}),Object(j.jsx)(V,{})]})},Oe=c(17),he=function(e){return Object(j.jsxs)("div",{className:"countdetail-container",children:[Object(j.jsx)("button",{className:"btn btn-danger",onClick:e.restar,children:"-"}),Object(j.jsx)("p",{children:e.valor}),Object(j.jsx)("button",{className:"btn btn-success",onClick:e.sumar,children:"+"})]})},xe=c(183),pe=c(184),fe=c(188),ge=c(186),ve=c(185),Ne=c(187),ye=c(190),we=Object(H.a)({root:{maxWidth:600}}),Ce=function(e){var t=e.product,c=we(),a=Object(n.useState)(1),s=Object(x.a)(a,2),r=s[0],o=s[1],d=Object(n.useState)(!1),b=Object(x.a)(d,2),m=b[0],u=b[1],O=Object(n.useState)(!1),h=Object(x.a)(O,2),p=h[0],f=h[1],g=E().verifyReply,v=function(){f(!0),u(!0)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container-fluid pt-5 pb-5 ",children:[Object(j.jsx)("div",{className:"row m-auto",children:Object(j.jsxs)("div",{className:"col-11 col-sm-6 col-md-6 m-auto",children:[Object(j.jsx)(i.b,{className:"shadow-lg btn btn-primary mb-3",to:"/productos",children:Object(j.jsx)(_.a,{size:25})}),Object(j.jsxs)(xe.a,{className:"shadow-lg  m-auto "+c.root,children:[Object(j.jsxs)(pe.a,{children:[Object(j.jsx)(ve.a,{component:"img",alt:"Contemplative Reptile",height:"350",image:t.img,title:"Contemplative Reptile"}),Object(j.jsxs)(ge.a,{children:[Object(j.jsx)(Ne.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(j.jsx)(Ne.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description}),Object(j.jsxs)(Ne.a,{variant:"h6",color:"textPrimary",component:"p",children:["$",t.price]})]})]}),Object(j.jsxs)(fe.a,{className:"d-flex justify-content-between",children:[Object(j.jsx)(he,{valor:r,sumar:function(){r<5&&o(r+1)},restar:function(){r>1&&o(r-1)}}),Object(j.jsx)("button",{className:"shadow-lg btn btn-warning",onClick:function(){g(t,r),v()},children:"Agregar al carrito"})]})]}),!1===p?Object(j.jsx)("div",{}):Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-3",children:Object(j.jsxs)(i.b,{to:"/carrito",className:"btn btn-warning  w-80 d-flex justify-content-center align-items-center",children:[Object(j.jsx)(l.b,{size:20}),"  ",Object(j.jsx)("span",{className:"font-weight-bold  ml-1 mb-0",children:"Finaliz\xe1 tu compra"})]})})]})}),Object(j.jsxs)(ye.a,{onClose:function(){return u(!1)},show:m,delay:3e3,autohide:!0,children:[Object(j.jsx)(ye.a.Header,{style:{background:"#4caf50"},className:"d-flex justify-content-between text-white",children:Object(j.jsx)("strong",{className:"me-auto",children:"A\xf1adido con exito"})}),Object(j.jsx)(ye.a.Body,{children:"Puede editar su compra en el carrito"})]})]})})};c(57);var ke=function(){var e=E().allProducts,t=Object(Oe.f)().id,c=Object(n.useState)([]),a=Object(x.a)(c,2),s=a[0],r=a[1];return Object(n.useEffect)((function(){!function(){var c=e.filter((function(e){return e.id===t}));r([]),r.apply(void 0,Object(b.a)(c))}()})),Object(j.jsx)("div",{className:"pages",children:Object(j.jsx)(Ce,{product:s})})};Promise.resolve().then(c.t.bind(null,57,7));var Pe=Object(H.a)({root:{maxWidth:345},media:{height:140}}),Se=function(e){var t=Pe();return Object(j.jsx)("div",{className:"mb-5",children:Object(j.jsxs)(xe.a,{className:t.root+"  m-auto shadow-lg",children:[Object(j.jsx)(ve.a,{className:t.media,image:e.img,title:"Contemplative Reptile"}),Object(j.jsxs)(ge.a,{children:[Object(j.jsx)(Ne.a,{variant:"h5",className:"mb-2",component:"h2",children:e.title}),Object(j.jsx)(Ne.a,{variant:"h6",color:"textPrimary",component:"p",children:"$"+e.price})]}),Object(j.jsxs)(fe.a,{className:"p-3 d-flex justify-content-between align-items-center",children:[Object(j.jsx)(i.b,{className:"btn btn-danger",to:"/productos/item/"+e.prodID,children:"Ver m\xe1s"}),Object(j.jsx)("span",{children:e.cat})]})]})})},Ee=function(e){return Object(j.jsx)("div",{className:"container-fluid pt-5",children:Object(j.jsx)("div",{className:"row m-auto ",children:e.products.map((function(e,t){return Object(j.jsx)("div",{className:"col-10 col-sm-4 col-md-4 m-auto ",children:Object(j.jsx)(Se,{prodID:e.id,title:e.name,price:e.price,description:e.description,cat:e.category,img:e.img})},t)}))})})};Promise.resolve().then(c.t.bind(null,57,7));var ze=function(){var e=Object(Oe.f)().category,t=Object(n.useState)([]),c=Object(x.a)(t,2),a=c[0],s=c[1],r=E().allProducts;return Object(n.useEffect)((function(){!function(){if(e){var t=r.filter((function(t){return t.category===e}));s(t)}else s(r)}()}),[e,r]),Object(j.jsx)("div",{className:"pages",children:Object(j.jsx)(Ee,{products:a})})};c(143);var Ie=function(){return Object(j.jsx)(C,{children:Object(j.jsx)(S,{children:Object(j.jsxs)(i.a,{basename:"/coder-react-agape",className:"App",children:[Object(j.jsx)(L,{}),Object(j.jsxs)(Oe.c,{children:[Object(j.jsx)(Oe.a,{exact:!0,path:"/",component:W}),Object(j.jsx)(Oe.a,{exact:!0,path:"/productos",component:ze}),Object(j.jsx)(Oe.a,{exact:!0,path:"/productos/category/:category",component:ze}),Object(j.jsx)(Oe.a,{exact:!0,path:"/productos/item/:id",component:ke}),Object(j.jsx)(Oe.a,{exact:!0,path:"/carrito",component:ue}),Object(j.jsx)(Oe.a,{path:"*",component:W})]}),Object(j.jsx)(R,{})]})})})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Ie,{})}),document.getElementById("root"))},57:function(e,t,c){},92:function(e,t,c){}},[[144,1,2]]]);
//# sourceMappingURL=main.61d90998.chunk.js.map