(this.webpackJsonpagape=this.webpackJsonpagape||[]).push([[0],{140:function(e,t,c){},141:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),o=c(28),s=c.n(o),r=c(19),i=c(44),l=c(47),j=c(3),d=[{icon:Object(j.jsx)(i.a,{size:25,color:"ffac40"}),name:"Inicio",to:"/"},{icon:Object(j.jsx)(i.d,{size:25,color:"ffac40"}),name:"Todos los Productos",to:"/productos"},{icon:Object(j.jsx)(l.c,{size:25,color:"ffac40"}),name:"Ropa",to:"/productos/category/Ropa"},{icon:Object(j.jsx)(l.a,{size:25,color:"ffac40"}),name:"Accesorios",to:"/productos/category/Accesorios"},{icon:Object(j.jsx)(i.c,{size:25,color:"ffac40"}),name:"Carrito",to:"/carrito"}],b=c(66),u=c(74),m=c.n(u),O=c(91),p=c(25),h=c(14),x=c(92),f=c.n(x),g=c(51),v=(c(142),c(131),n.a.createContext()),N=g.a.initializeApp({apiKey:"AIzaSyCs57LkTJ17PhrkEo5XPVY4b71sKw2-0BU",authDomain:"agapeapp-7f28c.firebaseapp.com",projectId:"agapeapp-7f28c",storageBucket:"agapeapp-7f28c.appspot.com",messagingSenderId:"1007000022642",appId:"1:1007000022642:web:97d4831415780cd460dceb"}),y=g.a.auth(),w=new g.a.auth.GoogleAuthProvider;function C(e){var t=Object(a.useState)(!1),c=Object(h.a)(t,2),n=c[0],o=c[1],s=Object(a.useState)({name:null,email:null,tokenId:null}),r=Object(h.a)(s,2),i=r[0],l=r[1];Object(a.useEffect)((function(){y.onAuthStateChanged((function(e){e?(o(!0),console.log("ENTRO"),e.getIdToken(!0).then((function(t){return l({name:e.displayName,email:e.email,tokenId:t})})).catch((function(e){return console.log(e)}))):(o(!1),l({name:null,email:null,tokenId:null}),console.log("SALIO"))}))}),[]);return Object(j.jsx)(v.Provider,Object(p.a)({value:{authGoogle:function(){console.log("no esta logead"),y.signInWithPopup(w).then((function(e){e.credential})).catch((function(e){console.log(e)}))},getFirestore:function(){return g.a.firestore(N)},isLogged:n,signOut:function(){y.signOut().then((function(){}))},user:i}},e))}function k(){var e=n.a.useContext(v);if(!e)throw new Error("useFirestore debe estar dentro del provider UserFirestore");return e}var S=n.a.createContext();function E(e){var t=Object(a.useState)([]),c=Object(h.a)(t,2),n=c[0],o=c[1],s=Object(a.useState)(!1),r=Object(h.a)(s,2),i=(r[0],r[1]),l=k().user,d=function(){var e=Object(O.a)(m.a.mark((function e(){var t,c,a,n,s,r,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://agapeapp-7f28c-default-rtdb.firebaseio.com/items.json");case 2:for(t=e.sent,c=t.data,a=[],n=Object.keys(c),s=0;s<n.length;s++)r=n[s],a.push(c[r]);for(i=[],l=0;l<a.length;l++)i.push({id:n[l],name:a[l].name,description:a[l].description,price:a[l].price,img:a[l].img,category:a[l].category});o(i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){d()}),[]);var u=Object(a.useState)([]),x=Object(h.a)(u,2),g=x[0],v=x[1],N=Object(a.useState)(0),y=Object(h.a)(N,2),w=y[0],C=y[1],E=Object(a.useState)(0),P=Object(h.a)(E,2),I=P[0],z=P[1];Object(a.useEffect)((function(){!function(){var e=0;g.forEach((function(t){e+=t.quantity})),z(e)}()}),[g,w]);var A=function(){var e=0;g.forEach((function(t){e+=t.item.price*t.quantity})),C(e)},q=function(e,t){v([].concat(Object(b.a)(g),[{item:e,quantity:t}])),A()};return Object(j.jsx)(S.Provider,Object(p.a)({value:{cartProducts:g,addProduct:q,modifyProduct:function(e,t){var c=g;c.forEach((function(c){c.item.id===e&&(c.quantity=t)})),A(),v(c),console.log(g)},removeProduct:function(e){var t=g.filter((function(t){return t.item.id!==e}));v(t),A()},verifyReply:function(e,t){var c=!1;for(var a in g)g[a].item.id===e.id&&(c=!0);c?function(e,t){var c=g;c.forEach((function(c){c.item.id===e.id&&(c.quantity=c.quantity+t)})),A(),v(c)}(e,t):q(e,t)},removeAll:function(){v([]),A()},total:w,totalItems:I,allProducts:n,newPedido:function(e){l.name,l.email,e.Clidireccion,e.Clitelefono,Object(p.a)(Object(p.a)({},g),{},{totalPedido:5e3});i(!0),v([])}}},e))}function P(){var e=n.a.useContext(S);if(!e)throw new Error("useCart debe estar dentro del provider CartContext");return e}var I=function(e){var t=P().totalItems;return Object(j.jsx)("div",{className:"cardWidget",children:Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[e.icon,Object(j.jsx)("span",{className:"ml-2 ",children:e.name}),t>0&&"Carrito"===e.name?Object(j.jsx)("div",{style:{color:"black",marginLeft:"5px",fontSize:"20px",background:"white",width:"20px",textAlign:"center",borderRadius:"5px"},className:"cantCart",children:t}):Object(j.jsx)(j.Fragment,{})]})})},z=c(189),A=c(169),q=c(186),R=c(190);c(38);var B=function(){var e=k(),t=e.isLogged,c=e.authGoogle,a=e.signOut;return Object(j.jsx)(z.a,{sticky:"top",collapseOnSelect:!0,expand:"lg",className:"navbar",children:Object(j.jsxs)(A.a,{fluid:!0,children:[Object(j.jsx)(q.a.Link,{as:r.b,to:"/",className:"mr-5",children:Object(j.jsx)(R.a.Image,{width:150,height:"auto",alt:"logo",src:"https://i.imgur.com/C3zXSSv.png"})}),Object(j.jsx)(z.a.Toggle,{className:"navbar-toggle","aria-controls":"responsive-navbar-nav "}),Object(j.jsx)(z.a.Collapse,{id:"responsive-navbar-nav ",children:Object(j.jsxs)(q.a,{className:"me-auto",children:[d.map((function(e,t){return Object(j.jsx)(q.a.Link,{className:"mr-2",as:r.b,to:e.to,children:Object(j.jsx)(I,{icon:e.icon,name:e.name})},t)})),t?Object(j.jsx)("button",{onClick:function(){a()},className:"btn btn-danger",children:"Salir"}):Object(j.jsx)("button",{onClick:function(){c()},className:"btn btn-success",children:"Ingresar"})]})})]})})};c(38);var F=function(){return Object(j.jsx)("div",{className:"footer d-flex justify-content-center align-items-center",children:Object(j.jsx)("p",{children:" Agape 2021"})})},T=c(67),$=c(170),L=function(){return Object(j.jsx)("div",{className:"portada",children:Object(j.jsx)("div",{className:"portada-opacidad",children:Object(j.jsxs)("div",{className:"portada-titulo",children:[Object(j.jsx)("h1",{children:"A G \xc1 P E"}),Object(j.jsx)("h5",{children:"Tienda online"}),Object(j.jsx)($.a,{as:r.b,to:"/productos",className:"btn-ver",children:"Ver Productos"})]})})})};c(38);var G=function(){return Object(j.jsxs)("div",{className:"pages",children:[Object(j.jsx)(L,{}),Object(j.jsxs)("div",{className:"contacto",children:[Object(j.jsx)("h2",{children:"Podes contactarte con nosotros en:"}),Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.instagram.com/agapetiendaonline/?hl=es",children:Object(j.jsx)(T.b,{className:"logo-social inst"})}),Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.facebook.com/pages/category/Clothing-Store/%C3%81gape-Tienda-Online-105297704567427/",children:Object(j.jsx)(T.a,{className:"logo-social face"})}),Object(j.jsxs)("a",{rel:"noreferrer",target:"_blank",href:"https://api.whatsapp.com/send?phone=549356465-6612",children:[" ",Object(j.jsx)(T.c,{className:"logo-social whats"})]})]})]})]})},D=c(95),W=c(171),U=c(96),V=function(e){var t=function(){e.expresionRegular&&(e.expresionRegular.test(e.estado.campo)?e.setEstado(Object(p.a)(Object(p.a)({},e.estado),{},{valido:"correcto"})):e.setEstado(Object(p.a)(Object(p.a)({},e.estado),{},{valido:"incorrecto"})))};return Object(j.jsxs)("div",{className:"d-block mr-auto ml-auto  w-75 ",children:[Object(j.jsx)("input",{className:"w-100 input "+e.valido,type:e.type,placeholder:e.placeholder,id:e.id,name:e.name,value:e.estado.campo,onChange:function(t){e.setEstado(Object(p.a)(Object(p.a)({},e.estado),{},{campo:t.target.value}))},onKeyUp:t,onBlur:t}),Object(j.jsx)("span",{className:"leyenda-defecto  leyenda-".concat(e.valido),children:e.mensajeError})]})};c(72);var H=Object(W.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"95%"}}}})),J=function(){var e=P();Object(D.a)(e);var t=P(),c=t.total,n=t.cartProducts,o=t.newPedido,s=H(),r=Object(a.useState)({campo:"",valido:null}),i=Object(h.a)(r,2),l=i[0],d=i[1],b=Object(a.useState)({campo:"",valido:null}),u=Object(h.a)(b,2),m=u[0],O=u[1],p=Object(a.useState)(null),x=Object(h.a)(p,2),f=x[0],g=x[1],v=Object(a.useState)({Clitelefono:"",Clidireccion:""}),N=Object(h.a)(v,2),y=N[0],w=N[1],C={telefono:/^[0-9 ]{7,14}$/,direccion:/^[0-9a-zA-Z. ]{5,40}$/},S=k(),E=S.isLogged,I=S.authGoogle,z=S.user;return Object(j.jsxs)("div",{className:0===n.length?"formNone":"container-form ",children:[Object(j.jsxs)("div",{className:"container-precio d-flex align-items-center justify-content-center",children:[Object(j.jsx)(U.a,{className:"mr-2",color:"ffa333",size:25}),Object(j.jsx)("span",{className:"form-precio m-0",children:"Total: $".concat(c)})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{className:"form-titulo",children:"Finalice su compra"}),!0===E&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h6",{className:"m-0 ",children:"Comprando como:"}),Object(j.jsx)("p",{children:z.name})]}),Object(j.jsxs)("form",{className:s.root,onSubmit:function(e){e.preventDefault(),"correcto"===l.valido&&"correcto"===m.valido&&!0===E?(g(!0),console.log("ENVIADO"),o(y),w(y.Clitelefono=l.campo,y.Clidireccion=m.campo),d({campo:"",valido:null}),O({campo:"",valido:null})):g(!1)},children:[Object(j.jsx)(V,{estado:l,setEstado:d,className:"mr-auto ml-auto mb-5 w-75 ",placeholder:"tel\xe9fono",type:"text",name:"Telefono",mensajeError:"Este campo es obligatorio. Solo se permiten n\xfameros y espacios",expresionRegular:C.telefono,valido:l.valido}),Object(j.jsx)(V,{estado:m,setEstado:O,className:"mr-auto ml-auto mb-5 w-75 ",placeholder:"Direcci\xf3n",type:"text",name:"direcci\xf3n",mensajeError:"Este campo es requerido. Minimo 5 caracteres",expresionRegular:C.direccion,valido:m.valido}),!1===f&&Object(j.jsx)("p",{children:"Complete el formulario "}),!1===E&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"text-center",children:"Inicie sesi\xf3n con Google para enviar el pedido"}),Object(j.jsx)("button",{onClick:function(){I()},className:"btn btn-primary",children:"Entrar con Google"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Enviar"})]})]})},K=c(63),_=c(97),M=function(e){return Object(j.jsxs)("div",{className:"countdetail-container",children:[Object(j.jsx)("button",{className:"btn btn-danger  btn-sm",onClick:e.quit,children:"-"}),Object(j.jsxs)("p",{className:"display-4",children:[" ",e.quantity]}),Object(j.jsx)("button",{className:"btn btn-success  btn-sm",onClick:e.add,children:"+"})]})},X=c(11),Y=c(188),Z=c(191),Q=c(173),ee=c(175),te=c(179),ce=c(178),ae=c(174),ne=c(176),oe=c(177),se=c(143);c(72);var re=Object(X.a)({root:{background:"#ffa333",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(Y.a),ie=Object(X.a)({root:{borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"},display:"flex",justifyContent:"space-between"},expanded:{}})(Z.a),le=Object(X.a)((function(e){return{root:{padding:e.spacing(2),background:"#383838"}}}))(Q.a),je=Object(W.a)({table:{Width:"70%"}}),de=function(e){var t=P(),c=t.modifyProduct,n=t.removeProduct,o=je(),s=Object(a.useState)(e.quantity),r=Object(h.a)(s,2),i=r[0],l=r[1];return Object(a.useEffect)((function(){c(e.id,i)}),[i]),Object(j.jsx)("div",{className:"item  ",children:Object(j.jsxs)(re,{square:!0,children:[Object(j.jsxs)(ie,{"aria-controls":"panel1d-content",id:"panel1d-header",children:[Object(j.jsx)("h6",{children:e.name}),Object(j.jsx)(_.a,{color:"#1f1d1d",size:30})]}),Object(j.jsx)(le,{className:"accordion-details",children:Object(j.jsx)(ae.a,{component:se.a,children:Object(j.jsxs)(ee.a,{className:o.table,size:"small","aria-label":"a dense table",children:[Object(j.jsx)(ne.a,{children:Object(j.jsxs)(oe.a,{children:[Object(j.jsx)(ce.a,{children:e.description}),Object(j.jsx)(ce.a,{})]})}),Object(j.jsxs)(te.a,{children:[Object(j.jsxs)(oe.a,{children:[Object(j.jsx)(ce.a,{children:"Precio/U"}),Object(j.jsxs)(ce.a,{children:["$",e.price]})]}),Object(j.jsxs)(oe.a,{children:[Object(j.jsx)(ce.a,{children:"Cantidad"}),Object(j.jsx)(ce.a,{children:Object(j.jsx)(M,{quantity:i,quit:function(){i>1&&l(i-1)},add:function(){l(i+1)}})})]}),Object(j.jsxs)(oe.a,{children:[Object(j.jsx)(ce.a,{children:"Total"}),Object(j.jsxs)(ce.a,{children:["$",e.price*i]})]}),Object(j.jsxs)(oe.a,{children:[Object(j.jsx)(ce.a,{children:"Borrar"}),Object(j.jsxs)(ce.a,{children:[" ",Object(j.jsx)("button",{onClick:function(){n(e.id)},className:"btn btn-danger ",children:Object(j.jsx)(K.b,{color:"white",size:25})})]})]})]})]})})})]})})},be=function(){var e=P(),t=e.cartProducts,c=e.removeAll;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:0===t.length?Object(j.jsx)("h4",{className:"text-center mb-3 text-danger  ",children:"No hay productos"}):t.map((function(e){return Object(j.jsx)(de,{id:e.item.id,category:e.item.category,description:e.item.description,img:e.item.img,name:e.item.name,price:e.item.price,quantity:e.quantity},e.item.id)}))}),Object(j.jsx)("div",{className:"w-100 d-flex align-items-center justify-content-center",children:0===t.length?Object(j.jsx)(r.b,{className:"btn btn-warning",to:"/productos/",children:"Comenz\xe1 a comprar"}):Object(j.jsx)("button",{className:"btn btn-danger  w-50",onClick:function(){c()},children:"Borrar todo"})})]})};c(72);var ue=function(){return Object(j.jsxs)("div",{className:"pages container",children:[Object(j.jsxs)("div",{className:" container-titulo d-flex align-items-center justify-content-center mt-3",children:[Object(j.jsx)("span",{className:"titulo mb-0 ",children:"Carrito de compras"}),Object(j.jsx)(i.b,{size:30})]}),Object(j.jsx)("div",{className:"container-items",children:Object(j.jsx)(be,{})}),Object(j.jsx)(J,{})]})},me=c(16),Oe=function(e){return Object(j.jsxs)("div",{className:"countdetail-container",children:[Object(j.jsx)("button",{className:"btn btn-danger",onClick:e.restar,children:"-"}),Object(j.jsx)("p",{children:e.valor}),Object(j.jsx)("button",{className:"btn btn-success",onClick:e.sumar,children:"+"})]})},pe=c(180),he=c(181),xe=c(185),fe=c(183),ge=c(182),ve=c(184),Ne=c(187),ye=Object(W.a)({root:{maxWidth:600}}),we=function(e){var t=e.product,c=ye(),n=Object(a.useState)(1),o=Object(h.a)(n,2),s=o[0],i=o[1],d=Object(a.useState)(!1),b=Object(h.a)(d,2),u=b[0],m=b[1],O=Object(a.useState)(!1),p=Object(h.a)(O,2),x=p[0],f=p[1],g=P().verifyReply,v=function(){f(!0),m(!0)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container-fluid pt-5 pb-5 ",children:[Object(j.jsx)("div",{className:"row m-auto",children:Object(j.jsxs)("div",{className:"col-11 col-sm-6 col-md-6 m-auto",children:[Object(j.jsx)(r.b,{className:"shadow-lg btn btn-primary mb-3",to:"/productos",children:Object(j.jsx)(K.a,{size:25})}),Object(j.jsxs)(pe.a,{className:"shadow-lg  m-auto "+c.root,children:[Object(j.jsxs)(he.a,{children:[Object(j.jsx)(ge.a,{component:"img",alt:"Contemplative Reptile",height:"350",image:t.img,title:"Contemplative Reptile"}),Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(ve.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(j.jsx)(ve.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description}),Object(j.jsxs)(ve.a,{variant:"h6",color:"textPrimary",component:"p",children:["$",t.price]})]})]}),Object(j.jsxs)(xe.a,{className:"d-flex justify-content-between",children:[Object(j.jsx)(Oe,{valor:s,sumar:function(){s<5&&i(s+1)},restar:function(){s>1&&i(s-1)}}),Object(j.jsx)("button",{className:"shadow-lg btn btn-warning",onClick:function(){g(t,s),v()},children:"Agregar al carrito"})]})]}),!1===x?Object(j.jsx)("div",{}):Object(j.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-3",children:Object(j.jsxs)(r.b,{to:"/carrito",className:"btn btn-warning  w-80 d-flex justify-content-center align-items-center",children:[Object(j.jsx)(l.b,{size:20}),"  ",Object(j.jsx)("span",{className:"font-weight-bold  ml-1 mb-0",children:"Finaliz\xe1 tu compra"})]})})]})}),Object(j.jsxs)(Ne.a,{onClose:function(){return m(!1)},show:u,delay:3e3,autohide:!0,children:[Object(j.jsx)(Ne.a.Header,{style:{background:"#4caf50"},className:"d-flex justify-content-between text-white",children:Object(j.jsx)("strong",{className:"me-auto",children:"A\xf1adido con exito"})}),Object(j.jsx)(Ne.a.Body,{children:"Puede editar su compra en el carrito"})]})]})})};c(38);var Ce=function(){var e=P().allProducts,t=Object(me.f)().id,c=Object(a.useState)([]),n=Object(h.a)(c,2),o=n[0],s=n[1];return Object(a.useEffect)((function(){!function(){var c=e.filter((function(e){return e.id===t}));s([]),s.apply(void 0,Object(b.a)(c))}()})),Object(j.jsx)("div",{className:"pages",children:Object(j.jsx)(we,{product:o})})};c(38);var ke=Object(W.a)({root:{maxWidth:345},media:{height:140}}),Se=function(e){var t=ke();return Object(j.jsx)("div",{className:"mb-5",children:Object(j.jsxs)(pe.a,{className:t.root+"  m-auto shadow-lg",children:[Object(j.jsx)(ge.a,{className:t.media,image:e.img,title:"Contemplative Reptile"}),Object(j.jsxs)(fe.a,{children:[Object(j.jsx)(ve.a,{variant:"h5",className:"mb-2",component:"h2",children:e.title}),Object(j.jsx)(ve.a,{variant:"h6",color:"textPrimary",component:"p",children:"$"+e.price})]}),Object(j.jsxs)(xe.a,{className:"p-3 d-flex justify-content-between align-items-center",children:[Object(j.jsx)(r.b,{className:"btn btn-danger",to:"/productos/item/"+e.prodID,children:"Ver m\xe1s"}),Object(j.jsx)("span",{children:e.cat})]})]})})},Ee=function(e){return Object(j.jsx)("div",{className:"container-fluid pt-5",children:Object(j.jsx)("div",{className:"row m-auto ",children:e.products.map((function(e,t){return Object(j.jsx)("div",{className:"col-10 col-sm-4 col-md-4 m-auto ",children:Object(j.jsx)(Se,{prodID:e.id,title:e.name,price:e.price,description:e.description,cat:e.category,img:e.img})},t)}))})})};c(38);var Pe=function(){var e=Object(me.f)().category,t=Object(a.useState)([]),c=Object(h.a)(t,2),n=c[0],o=c[1],s=P().allProducts;return Object(a.useEffect)((function(){!function(){if(e){var t=s.filter((function(t){return t.category===e}));o(t)}else o(s)}()}),[e]),Object(j.jsx)("div",{className:"pages",children:Object(j.jsx)(Ee,{products:n})})};c(140);var Ie=function(){return Object(j.jsx)(C,{children:Object(j.jsx)(E,{children:Object(j.jsxs)(r.a,{basename:"/coder-react-agape",className:"App",children:[Object(j.jsx)(B,{}),Object(j.jsxs)(me.c,{children:[Object(j.jsx)(me.a,{exact:!0,path:"/",component:G}),Object(j.jsx)(me.a,{exact:!0,path:"/productos",component:Pe}),Object(j.jsx)(me.a,{exact:!0,path:"/productos/category/:category",component:Pe}),Object(j.jsx)(me.a,{exact:!0,path:"/productos/item/:id",component:Ce}),Object(j.jsx)(me.a,{exact:!0,path:"/carrito",component:ue}),Object(j.jsx)(me.a,{path:"*",component:G})]}),Object(j.jsx)(F,{})]})})})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(Ie,{})}),document.getElementById("root"))},38:function(e,t,c){},72:function(e,t,c){}},[[141,1,2]]]);
//# sourceMappingURL=main.947af70f.chunk.js.map